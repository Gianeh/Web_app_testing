<!DOCTYPE html>
<html>

<head>
    <title>AOS Test Map</title>
    <script src="./Client_side/handler_map.js"></script>
    <style>
        table {

            border-collapse: collapse;
            table-layout: fixed;
            width: 100%;
            height: 100%;

        }

        .table-container {
            width: 1000px;
            /* container dimension */
            height: 1000px;
            /* container dimension */
            overflow: auto;
            margin: auto;
        }

        .square {
            width: 30px;
            height: 30px;
            border: 1px solid black;
            background-color: green;
        }

        tr {
            border: 1px solid black;
            width: 30px;
            height: 30px;
        }

        .red {
            background-color: red;
        }

        .playerVillage {
            background-color: blue;
            width: 30px;
            height: 30px;
            text-align: center;
            border: 1px solid black;
        }

        .enemyVillage {
            background-color: red;
            width: 30px;
            height: 30px;
            text-align: center;
            border: 1px solid black;
        }
      
    </style>
</head>

<body onload="setHandlers()">
    <div class="table-container">
        <script>
            window.onload = function () {
                var table = document.getElementById("WarMap");

                for (var i = 0; i < 90; i++) {
                    var row = table.insertRow();
                    for (var j = 0; j < 90; j++) {
                        var cell = row.insertCell();
                        cell.innerHTML = "m";           // Insert non-breaking space as placeholder content
                        cell.classList.add("square");  

                        if (i === 49 && j === 49) {
                            cell.innerHTML = "P";                   // Set cell content to "P"
                            cell.classList.remove("square");        // Remove square class
                            cell.classList.add("playerVillage");    // Add player-village class
                        }
                    }
                }
            };
        </script>
        <table id="WarMap" style="margin:auto">

        </table>

        <script>
            document.addEventListener("DOMContentLoaded", function () {

                var tableContainer = document.querySelector(".table-container");
                var playerCell = document.getElementById("playerVillage");

                // calcultate the offset of the player cell
                var offsetTop = playerCell.offsetTop - (tableContainer.offsetHeight / 2) + (playerCell.offsetHeight / 2);
                var offsetLeft = playerCell.offsetLeft - (tableContainer.offsetWidth / 2) + (playerCell.offsetWidth / 2);

                // apply the offset to the container
                tableContainer.scrollTop = offsetTop;
                tableContainer.scrollLeft = offsetLeft;
            });
        </script>

    </div>
    <div id="actions" style="margin:auto">
        <button onclick="attack()">Attack</button>

</body>

</html>