<!DOCTYPE html>
<html>

<!--

    experiment with map translation using a table

-->


<head>
    <script>
        function onLoad() {
            const container = document.getElementById('container');

            const numRows = 30;
            const numCols = 30;

            const table = document.createElement('table');
            table.id = 'table';
            container.appendChild(table);
            table.classList.add('table');
            for (let i = 0; i < numRows; i++) {
                const row = document.createElement('tr');
                for (let j = 0; j < numCols; j++) {
                    const cell = document.createElement('td');
                    cell.innerText = "T";
                    row.appendChild(cell);
                    if (i == 15 && j == 15) {
                        cell.style.backgroundColor = 'red';
                        cell.innerHTML = "P";
                    }
                    table.appendChild(row);
                }

                let button = document.getElementById('button');
                button.addEventListener('click', scroll);

            }
        }
        function scroll() {
            let table = document.getElementById('table');


            table.deleteRow(29);

            // traslate the table down by one row
            for (let i = 1; i < table.rows.length - 1; i++) {
                console.log(i);
                for (let j = 0; j < 30; j++) {
                    const currentCell = table.rows[i].cells[j];
                    const prevCell = table.rows[i+1].cells[j];
                    currentCell.innerHTML = prevCell.innerHTML;
                    currentCell.style.backgroundColor = prevCell.style.backgroundColor;
                    currentCell.style.color = prevCell.style.color;
                   // currentCell.id = prevCell.id;
                    // Copy any other desired styles from the previous cell to the current cell
                }
            }

            // insert a new row at the top
            const newRow = table.insertRow(29);
            for (let j = 0; j < 30; j++) {
                const newCell = newRow.insertCell();
                newCell.innerText = "NC";
            }


        }
    </script>
    <style>
        .table {
            border: 2px solid black;
            table-layout: fixed;
            width: 100%;
            height: 100%;
            margin: auto;
        }

        td {
            background-color: lightgreen;
            width: 30px;
            height: 30px;
        }

        .divbutton {
            width: 1000px;
            height: 1000px;
            overflow: auto;
            margin: auto;
            position: relative;
        }

        .container {
            width: 1100px;
            height: 1100px;
            overflow: auto;
            margin: auto;
            position: relative;
            border: 2px solid black;
        }
    </style>
</head>

<body onload="onLoad()">
    <div class="container" id="container"></div>
    <div class="divTable"> <button id="button"> Start Scroll </button></div>
</body>

</html>